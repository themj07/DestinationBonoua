<!-- login.html -->
{% extends 'bases/baseUser.html' %}
{% load static %}

{% block content %}
<style>
    .messages {
        list-style: none;
        padding: 0;
        margin: 0 0 20px 0;
    }

    .messages li {
        padding: 10px;
        margin-bottom: 10px;
        border-radius: 4px;
        font-size: 14px;
    }

    .messages .success {
        background-color: #d4edda;
        color: #155724;
        border: 1px solid #c3e6cb;
    }

    .messages .error {
        background-color: #f8d7da;
        color: #721c24;
        border: 1px solid #f5c6cb;
    }

    .messages .info {
        background-color: #d1ecf1;
        color: #0c5460;
        border: 1px solid #bee5eb;
    }

    .messages .warning {
        background-color: #fff3cd;
        color: #856404;
        border: 1px solid #ffeeba;
    }
</style>

<div class="wpo-login-area">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <form class="wpo-accountWrapper" method="POST" action="{% url 'login' %}">
                    <div class="wpo-accountInfo">
                        <div class="wpo-accountInfoHeader">
                            <a href="{% url 'index' %}"><img src="" alt=""></a>
                            <a class="wpo-accountBtn" href="{% url 'register' %}">
                                <span class="">Creer un comtpe</span>
                            </a>
                        </div>
                        <div class="image">
                            <img src="{% static 'assets/images/login.png' %}" alt="">
                        </div>
                        <div class="back-home">
                            <a class="wpo-accountBtn" href="{% url 'index' %}">
                                <span class="">Retour</span>
                            </a>
                        </div>
                    </div>
                    {% csrf_token %}
                    <div class="wpo-accountForm form-style">
                        <h2>Connexion</h2>
                        <p>Connectez-vous avec votre numéro ou username</p>

                        <!-- Messages d'erreur ou de succès -->
                        {% if messages %}
                        <ul class="messages">
                            {% for message in messages %}
                            <li class="{{ message.tags }}">{{ message|safe }}</li>
                            {% endfor %}
                        </ul>
                        {% endif %}
                        <!-- Identifiant : Numéro ou Username -->
                        <label for="username">Username</label>
                        <input type="text" id="username" name="username" placeholder="Username" required>

                        <!-- Mot de passe -->
                        <label for="password">Mot de passe</label>
                        <input type="password" id="password" name="password" placeholder="Mot de passe" required>

                        <button type="submit" class="wpo-accountBtn">Se connecter</button>

                        <div class="forget-btn" style="margin-top: 10px; text-align: center;">
                            <a href="{% url 'reset_password' %}" style="
                                color: #3498DB; 
                                font-size: 14px; 
                                font-weight: 500; 
                                text-decoration: none;
                                transition: color 0.3s ease-in-out;">
                                Mot de passe oublié ?
                            </a>
                        </div>

                    </div>
                </form>

            </div>
        </div>
    </div>
</div>
{% endblock content %}